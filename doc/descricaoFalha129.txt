Descrição: Ao gerar o código de Grupo I para a OS, a numeração do código está usando um contador global em vez de usar um contador relativo ao tipo.

• Funcionalidade: CLDF072020_ASSEL_EPE004_01_Listar.feature

• Cenários:

– Esquema do Cenário: Apresentar Código de Grupo 1 (linha 97)

– Esquema do Cenário: Apresentar Código de Grupo 2 - Minutas de Proposição (linha 110)

– Esquema do Cenário: Apresentar Código de Grupo 3 - Minutas de Parecer (linha 128)


Detalhamento:

A contagem está sendo feita de forma total e não relativa ao tipo de documento que está sendo criado.

Verificar a documentação complementar enviada: https://github.com/camaradf/assel_documentacao/blob/master/8%20-%20Outros/ASSEL_docs/Nota%20T%C3%A9cnica%20-%20Codifica%C3%A7%C3%A3o%20OSs.pdf páginas 4 e 5.


Exemplo:

1 - Criar uma solicitação de OS do tipo "Estudo" e ver o número. Por exemplo, o sistema teria gerado esse: EST007-2022.

2 - Criar um OS do tipo "Consulta" e ver o número.

Supondo que a ultima OS do tipo "Consulta" que foi criada fosse a CONS009-2022 então o código dessa nova deveria ser CONS010-2022.

3 - Criar outra solicitação de OS do tipo "Estudo" e ver o número. Esse número deveria ser EST008-2022. Ou seja, cada numeração é relativo ao seu tipo.


Falha:

Atualmente, se você cria uma solicitação de OS do tipo "Estudo", depois uma de "Consulta" e depois outra do tipo "Estudo". O sistema está usando um contador global (e não relativo ao tipo) para criar os números. E aí ele está gerando, por exemplo, EST007-2022, CONS008-2022 e depois EST-009-2022. Isso não condiz com a documentação. Pois "Estudo" e "Consulta" são tipos diferentes.
